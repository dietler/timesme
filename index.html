<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Timesme</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Floating squishmallows background -->
    <div class="squishmallow squishmallow-1">üß∏</div>
    <div class="squishmallow squishmallow-2">üêª</div>
    <div class="squishmallow squishmallow-3">ü¶Ñ</div>
    <div class="squishmallow squishmallow-4">üê∞</div>
    <div class="squishmallow squishmallow-5">üê∏</div>
    <div class="squishmallow squishmallow-6">ü¶ä</div>
    
    <div class="game-container">
        
        <!-- Heating Up Meter -->
        <div class="heating-meter" id="heating-meter">
            <div class="heating-meter-label">üî• STREAK</div>
            <div class="heating-meter-bar">
                <div class="heating-meter-fill" id="heating-meter-fill"></div>
                <div class="heating-meter-fire" id="heating-meter-fire">üî•</div>
            </div>
            <div class="heating-meter-count" id="heating-meter-count">0</div>
        </div>
        
        <!-- Header with score and progress -->
        <div class="header">
            <div class="score-container">
                <div class="score-label">Score</div>
                <div class="score" id="score">0</div>
            </div>
            <div class="wallet-display" id="wallet-display" title="Your Coins">
                <span class="wallet-icon">ü™ô</span>
                <span class="wallet-amount" id="wallet-amount">0</span>
            </div>
            <button class="header-btn header-store-btn" id="header-store-btn" title="Open Store">üè™</button>
            <button class="header-btn header-collection-btn" id="header-collection-btn" title="Trophy Case">üèÜ <span class="collection-count" id="header-collection-count">0</span></button>
            <button class="header-btn header-stats-btn" id="header-stats-btn" title="View Statistics">üìä</button>
            <button class="header-btn header-whiteboard-btn" id="header-whiteboard-btn" title="Open Whiteboard">üñçÔ∏è</button>
            <div class="progress-container">
                <div class="progress-label">Question</div>
                <div class="progress" id="progress">1/20</div>
            </div>
        </div>

        <!-- Main question area -->
        <div class="question-area">
            <div class="question-card">
                <div class="question" id="question">7 √ó 8 = ?</div>
            </div>
        </div>

        <!-- Answer circles -->
        <div class="answers-container">
            <div class="answer-circle" data-answer="0">
                <div class="character-face face-duck">
                    <svg class="character-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <!-- Duck character -->
                        <!-- Hair tuft -->
                        <ellipse cx="60" cy="8" rx="8" ry="10" fill="#f5c842" class="duck-tuft"/>
                        <ellipse cx="52" cy="10" rx="5" ry="8" fill="#f5c842" class="duck-tuft"/>
                        <ellipse cx="68" cy="10" rx="5" ry="8" fill="#f5c842" class="duck-tuft"/>
                        <!-- Head -->
                        <circle cx="60" cy="50" r="42" fill="#ffe566"/>
                        <circle cx="60" cy="50" r="38" fill="#fff2a8"/>
                        <!-- Cheeks -->
                        <ellipse cx="30" cy="60" rx="10" ry="7" fill="#ffcce0" opacity="0.6" class="duck-cheek"/>
                        <ellipse cx="90" cy="60" rx="10" ry="7" fill="#ffcce0" opacity="0.6" class="duck-cheek"/>
                        <!-- Eyes -->
                        <circle cx="42" cy="42" r="8" fill="white"/>
                        <circle cx="78" cy="42" r="8" fill="white"/>
                        <circle cx="44" cy="41" r="5" fill="#333" class="duck-pupil"/>
                        <circle cx="80" cy="41" r="5" fill="#333" class="duck-pupil"/>
                        <circle cx="45" cy="39" r="2" fill="white"/>
                        <circle cx="81" cy="39" r="2" fill="white"/>
                        <!-- Beak -->
                        <ellipse cx="60" cy="62" rx="14" ry="8" fill="#ff9933"/>
                        <ellipse cx="60" cy="59" rx="12" ry="6" fill="#ffaa44"/>
                        <ellipse cx="60" cy="63" rx="4" ry="2" fill="#e87700" opacity="0.5"/>
                        <!-- Wing hints -->
                        <ellipse cx="18" cy="80" rx="12" ry="8" fill="#ffe566" class="duck-wing-left"/>
                        <ellipse cx="102" cy="80" rx="12" ry="8" fill="#ffe566" class="duck-wing-right"/>
                    </svg>
                </div>
                <span class="answer-text">42</span>
            </div>
            <div class="answer-circle" data-answer="1">
                <div class="character-face face-frog">
                    <svg class="character-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <!-- Frog character -->
                        <!-- Bulging eyes -->
                        <circle cx="30" cy="15" r="16" fill="#5dbb63"/>
                        <circle cx="90" cy="15" r="16" fill="#5dbb63"/>
                        <circle cx="30" cy="15" r="12" fill="white"/>
                        <circle cx="90" cy="15" r="12" fill="white"/>
                        <circle cx="32" cy="14" r="6" fill="#333" class="frog-pupil"/>
                        <circle cx="92" cy="14" r="6" fill="#333" class="frog-pupil"/>
                        <circle cx="33" cy="12" r="2.5" fill="white"/>
                        <circle cx="93" cy="12" r="2.5" fill="white"/>
                        <!-- Head -->
                        <ellipse cx="60" cy="55" rx="48" ry="38" fill="#5dbb63"/>
                        <ellipse cx="60" cy="55" rx="44" ry="34" fill="#7dd87d"/>
                        <!-- Belly spot -->
                        <ellipse cx="60" cy="65" rx="28" ry="20" fill="#a8eea8" opacity="0.5"/>
                        <!-- Cheeks -->
                        <circle cx="25" cy="55" r="8" fill="#ff9ebc" opacity="0.4" class="frog-cheek"/>
                        <circle cx="95" cy="55" r="8" fill="#ff9ebc" opacity="0.4" class="frog-cheek"/>
                        <!-- Mouth -->
                        <path d="M 35 65 Q 48 80 60 65 Q 72 80 85 65" stroke="#3a8a3a" stroke-width="2.5" fill="none" stroke-linecap="round" class="frog-mouth"/>
                        <!-- Nostrils -->
                        <circle cx="50" cy="52" r="2" fill="#3a8a3a"/>
                        <circle cx="70" cy="52" r="2" fill="#3a8a3a"/>
                        <!-- Front feet -->
                        <ellipse cx="20" cy="95" rx="10" ry="5" fill="#5dbb63" class="frog-foot-left"/>
                        <ellipse cx="100" cy="95" rx="10" ry="5" fill="#5dbb63" class="frog-foot-right"/>
                    </svg>
                </div>
                <span class="answer-text">56</span>
            </div>
            <div class="answer-circle" data-answer="2">
                <div class="character-face face-bear">
                    <svg class="character-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <!-- Bear character -->
                        <!-- Ears -->
                        <circle cx="22" cy="18" r="16" fill="#c08050"/>
                        <circle cx="98" cy="18" r="16" fill="#c08050"/>
                        <circle cx="22" cy="18" r="10" fill="#e8a87c"/>
                        <circle cx="98" cy="18" r="10" fill="#e8a87c"/>
                        <!-- Head -->
                        <circle cx="60" cy="55" r="42" fill="#c08050"/>
                        <circle cx="60" cy="55" r="38" fill="#d4956b"/>
                        <!-- Muzzle -->
                        <ellipse cx="60" cy="65" rx="20" ry="16" fill="#e8cbb0"/>
                        <!-- Eyes -->
                        <circle cx="40" cy="45" r="7" fill="white"/>
                        <circle cx="80" cy="45" r="7" fill="white"/>
                        <circle cx="42" cy="44" r="4.5" fill="#333" class="bear-pupil"/>
                        <circle cx="82" cy="44" r="4.5" fill="#333" class="bear-pupil"/>
                        <circle cx="43" cy="42" r="2" fill="white"/>
                        <circle cx="83" cy="42" r="2" fill="white"/>
                        <!-- Nose -->
                        <ellipse cx="60" cy="60" rx="7" ry="5" fill="#333"/>
                        <ellipse cx="58" cy="58" rx="2.5" ry="1.5" fill="#666"/>
                        <!-- Mouth -->
                        <path d="M 53 66 Q 60 74 67 66" stroke="#333" stroke-width="2" fill="none" stroke-linecap="round"/>
                        <!-- Cheeks -->
                        <circle cx="30" cy="60" r="8" fill="#ff9ebc" opacity="0.35" class="bear-cheek"/>
                        <circle cx="90" cy="60" r="8" fill="#ff9ebc" opacity="0.35" class="bear-cheek"/>
                    </svg>
                </div>
                <span class="answer-text">48</span>
            </div>
            <div class="answer-circle" data-answer="3">
                <div class="character-face face-cat">
                    <svg class="character-svg" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <!-- Cat character -->
                        <!-- Ears -->
                        <polygon points="15,30 30,2 45,35" fill="#ff9ebc"/>
                        <polygon points="75,35 90,2 105,30" fill="#ff9ebc"/>
                        <polygon points="20,30 30,10 40,33" fill="#ffcce0"/>
                        <polygon points="80,33 90,10 100,30" fill="#ffcce0"/>
                        <!-- Head -->
                        <circle cx="60" cy="58" r="40" fill="#ff9ebc"/>
                        <circle cx="60" cy="58" r="36" fill="#ffb8d0"/>
                        <!-- Eyes -->
                        <ellipse cx="40" cy="50" rx="7" ry="8" fill="white"/>
                        <ellipse cx="80" cy="50" rx="7" ry="8" fill="white"/>
                        <ellipse cx="42" cy="50" rx="4" ry="5.5" fill="#44bb77" class="cat-pupil"/>
                        <ellipse cx="82" cy="50" rx="4" ry="5.5" fill="#44bb77" class="cat-pupil"/>
                        <ellipse cx="42" cy="50" rx="1.5" ry="5" fill="#333"/>
                        <ellipse cx="82" cy="50" rx="1.5" ry="5" fill="#333"/>
                        <circle cx="44" cy="47" r="2" fill="white" opacity="0.9"/>
                        <circle cx="84" cy="47" r="2" fill="white" opacity="0.9"/>
                        <!-- Nose -->
                        <polygon points="57,62 63,62 60,66" fill="#ff6699"/>
                        <!-- Mouth -->
                        <path d="M 52 68 Q 56 73 60 68 Q 64 73 68 68" stroke="#cc5580" stroke-width="1.8" fill="none" stroke-linecap="round"/>
                        <!-- Whiskers -->
                        <line x1="10" y1="58" x2="35" y2="62" stroke="#cc7799" stroke-width="1.5" stroke-linecap="round" class="cat-whisker"/>
                        <line x1="10" y1="65" x2="35" y2="65" stroke="#cc7799" stroke-width="1.5" stroke-linecap="round" class="cat-whisker"/>
                        <line x1="10" y1="72" x2="35" y2="68" stroke="#cc7799" stroke-width="1.5" stroke-linecap="round" class="cat-whisker"/>
                        <line x1="110" y1="58" x2="85" y2="62" stroke="#cc7799" stroke-width="1.5" stroke-linecap="round" class="cat-whisker"/>
                        <line x1="110" y1="65" x2="85" y2="65" stroke="#cc7799" stroke-width="1.5" stroke-linecap="round" class="cat-whisker"/>
                        <line x1="110" y1="72" x2="85" y2="68" stroke="#cc7799" stroke-width="1.5" stroke-linecap="round" class="cat-whisker"/>
                        <!-- Cheeks -->
                        <circle cx="28" cy="65" r="7" fill="#ff7799" opacity="0.3" class="cat-cheek"/>
                        <circle cx="92" cy="65" r="7" fill="#ff7799" opacity="0.3" class="cat-cheek"/>
                    </svg>
                </div>
                <span class="answer-text">63</span>
            </div>
        </div>

        <!-- Results screen (hidden initially) -->
        <div class="results-screen" id="results-screen">
            <div class="results-content">
                <h1 class="results-title">üéâ Amazing! üéâ</h1>
                <div class="final-score">
                    <div class="final-score-label">Your Score</div>
                    <div class="final-score-value" id="final-score">0</div>
                    <div class="final-score-max">out of 20</div>
                </div>
                <div class="results-coins">
                    <div class="results-coins-earned">
                        <span class="results-coins-label">Coins Earned</span>
                        <span class="results-coins-value" id="results-coins-earned">0 ü™ô</span>
                    </div>
                    <div class="results-coins-total">
                        <span class="results-coins-label">Wallet Balance</span>
                        <span class="results-coins-value" id="results-wallet-balance">0 ü™ô</span>
                    </div>
                </div>
                <div class="results-buttons">
                    <button class="review-btn" id="review-btn">Review Answers üìù</button>
                    <button class="stats-btn" id="stats-btn">View Statistics üìä</button>
                    <button class="store-btn" id="results-store-btn">Visit Store üè™</button>
                    <button class="collection-btn" id="results-collection-btn">Trophy Case üèÜ</button>
                    <button class="play-again-btn" id="play-again-btn">Play Again! üéÆ</button>
                </div>
            </div>
        </div>

        <!-- Answer Review screen (hidden initially) -->
        <div class="review-screen" id="review-screen">
            <div class="review-content">
                <h2 class="review-title">Answer Review üìù</h2>
                <div class="review-list" id="review-list"></div>
                <button class="back-btn" id="back-from-review-btn">Back to Results</button>
            </div>
        </div>

        <!-- Statistics screen (hidden initially) -->
        <div class="stats-screen" id="stats-screen">
            <div class="stats-content">
                <h2 class="stats-title">Your Statistics üìä</h2>
                <div class="stats-sections">
                    <div class="stats-section">
                        <h3>Score Timeline üìà</h3>
                        <div class="chart-container">
                            <canvas id="scores-chart"></canvas>
                        </div>
                        <div class="chart-legend">
                            <span class="legend-item"><span class="legend-color score-line"></span> Score</span>
                            <span class="legend-item"><span class="legend-color avg-line"></span> Running Average</span>
                        </div>
                    </div>
                    <div class="stats-section">
                        <h3>Most Missed Problems ‚ùå</h3>
                        <div class="stats-list" id="missed-stats"></div>
                    </div>
                    <div class="stats-section">
                        <h3>Best Performance ‚úÖ</h3>
                        <div class="stats-list" id="correct-stats"></div>
                    </div>
                    <div class="stats-section">
                        <h3>Overall Stats</h3>
                        <div class="overall-stats" id="overall-stats"></div>
                    </div>
                </div>
                <div class="stats-buttons">
                    <button class="clear-stats-btn" id="clear-stats-btn">Clear All Stats üóëÔ∏è</button>
                    <button class="back-btn" id="back-from-stats-btn">Back to Results</button>
                </div>
            </div>
        </div>

        <!-- Store screen (hidden initially) -->
        <div class="store-screen" id="store-screen">
            <div class="store-content">
                <h2 class="store-title">Claire's Squishy Store üè™</h2>
                <div class="store-wallet">
                    <span class="store-wallet-icon">ü™ô</span>
                    <span class="store-wallet-amount" id="store-wallet-amount">0</span>
                </div>
                <div class="store-grid" id="store-grid"></div>
                <button class="back-btn" id="back-from-store-btn">Back</button>
            </div>
        </div>

        <!-- Collection/Trophy Case screen (hidden initially) -->
        <div class="collection-screen" id="collection-screen">
            <div class="collection-content">
                <h2 class="collection-title">Trophy Case üèÜ</h2>
                <div class="collection-progress" id="collection-progress">0/40 collected</div>
                <div class="collection-grid" id="collection-grid"></div>
                <button class="back-btn" id="back-from-collection-btn">Back</button>
            </div>
        </div>

        <!-- Whiteboard overlay (hidden initially) -->
        <div class="whiteboard-overlay" id="whiteboard-overlay">
            <div class="whiteboard-container">
                <div class="whiteboard-header">
                    <div class="whiteboard-problem-display">
                        <div class="whiteboard-question" id="whiteboard-question">7 √ó 8 = ?</div>
                        <div class="whiteboard-answers" id="whiteboard-answers">
                            <span class="whiteboard-answer">42</span>
                            <span class="whiteboard-answer">56</span>
                            <span class="whiteboard-answer">48</span>
                            <span class="whiteboard-answer">63</span>
                        </div>
                    </div>
                    <div class="whiteboard-controls">
                        <button class="whiteboard-btn whiteboard-eraser-btn" id="whiteboard-eraser-btn" title="Clear Whiteboard">üóëÔ∏è Erase</button>
                        <button class="whiteboard-btn whiteboard-close-btn" id="whiteboard-close-btn" title="Close Whiteboard">‚úñÔ∏è</button>
                    </div>
                </div>
                <canvas id="whiteboard-canvas" class="whiteboard-canvas"></canvas>
            </div>
        </div>

        <!-- Feedback overlay -->
        <div class="feedback-overlay" id="feedback-overlay"></div>
    </div>

    <script src="game.js"></script>
</body>
</html>
